[gd_scene load_steps=6 format=3 uid="uid://biu0tg8fneht0"]

[ext_resource type="Script" uid="uid://d1cki4iauvdqt" path="res://scripts/scenes/level_2.gd" id="1_p1d34"]
[ext_resource type="PackedScene" uid="uid://duydi7lytqxks" path="res://scenes/enviornment/CaveEnv.tscn" id="1_raxm7"]
[ext_resource type="PackedScene" uid="uid://dwqj4buhblxh8" path="res://entities/enemt/enemt.tscn" id="3_qyb5k"]

[sub_resource type="BoxShape3D" id="BoxShape3D_qyb5k"]
size = Vector3(9, 6, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_qyb5k"]
vertices = PackedVector3Array(-15.685, 2, -24.1303, -16.685, 2, -22.6303, -17.685, 2, -19.3803, -10.935, 2, -19.1303, -11.435, 2, -24.1303, -10.935, 2, -17.1303, -17.935, 2, -15.6303, -17.435, 2, -10.6303, -9.93503, 2, -3.13028, -2.68503, 2, -4.63028, -3.18503, 2, -9.63028, -4.93503, 2, -2.38028)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 4), PackedInt32Array(2, 4, 3), PackedInt32Array(3, 5, 2), PackedInt32Array(2, 5, 6), PackedInt32Array(6, 5, 7), PackedInt32Array(7, 5, 8), PackedInt32Array(8, 5, 10), PackedInt32Array(8, 10, 9), PackedInt32Array(9, 11, 8)]

[node name="Level2" type="Node3D"]
script = ExtResource("1_p1d34")

[node name="CaveEnv" parent="." instance=ExtResource("1_raxm7")]

[node name="LightCover" type="CSGBox3D" parent="."]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -7.58237, 34, -26.6438)
size = Vector3(41.9968, 1, 65.3029)

[node name="ForegroundBottom" type="Node" parent="."]

[node name="CSGBox3D7" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, 3.92493, 6.07565, 7.83271)
size = Vector3(3.49292, 2.74364, 1)

[node name="CSGBox3D16" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, 10.6346, 7.74952, 13.3094)
size = Vector3(7.37, 9.08666, 1)

[node name="CSGBox3D9" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, 8.24428, 5.59861, 3.99102)
size = Vector3(5.19421, 4.55004, 1)

[node name="CSGBox3D17" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, 16.3804, 7.64711, 7.66623)
size = Vector3(5.19421, 13.4718, 1)

[node name="CSGBox3D18" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, -12.5971, 18.5429, -13.8845)
size = Vector3(5.19421, 13.4718, 1)

[node name="CSGBox3D19" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, -11.222, 19.0175, -15.7347)
size = Vector3(5.19421, 13.4718, 1)

[node name="CSGBox3D22" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.128688, -0.806473, 0.577096, 0.633468, 0.514586, 0.577857, -0.762992, 0.291209, 0.577096, 3.38011, 4.24338, -15.5433)
size = Vector3(5.19421, 13.4718, 1)

[node name="CSGBox3D23" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.128688, -0.806473, 0.577096, 0.633468, 0.514586, 0.577857, -0.762992, 0.291209, 0.577096, 4.16541, 4.76658, -16.8524)
size = Vector3(5.19421, 13.4718, 1)

[node name="CSGBox3D24" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.737984, -0.34977, 0.577096, -0.0663482, 0.813437, 0.577857, -0.671549, -0.464739, 0.577096, 2.73568, 8.09159, -18.7521)
size = Vector3(5.19421, 5.29657, 1)

[node name="CSGBox3D20" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.00598927, -0.816654, 0.577096, 0.703626, 0.41351, 0.577857, -0.710545, 0.402599, 0.577096, -4.20668, 16.0438, -19.7724)
size = Vector3(5.19421, 13.4718, 1)

[node name="CSGBox3D21" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.804835, 0.13856, 0.577096, -0.522308, 0.627116, 0.577857, -0.281839, -0.766503, 0.577096, 1.60993, 14.0765, -23.6191)
size = Vector3(5.19421, 13.4718, 1)

[node name="CSGBox3D10" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.668222, -0.469509, 0.577096, 0.0721386, 0.812943, 0.577858, -0.740456, -0.344507, 0.577096, 0.934401, 6.70174, 10.1963)
size = Vector3(5.19421, 6.93603, 1)

[node name="CSGBox3D11" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.73821, -0.349294, 0.577096, -0.0668731, 0.813393, 0.577858, -0.671249, -0.465172, 0.577096, 10.3608, 6.83121, 0.64032)
size = Vector3(5.19421, 6.48331, 1)

[node name="CSGBox3D8" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, 5.77028, 5.47588, 6.58792)
size = Vector3(3.49292, 2.74364, 1)

[node name="CSGBox3D15" type="CSGBox3D" parent="ForegroundBottom"]
transform = Transform3D(0.211071, -0.788929, 0.577096, 0.577096, 0.577097, 0.577857, -0.788929, 0.211071, 0.577096, 10.387, 10.0987, 11.2047)
size = Vector3(3.49292, 2.74364, 1)

[node name="Cave" type="Node" parent="."]

[node name="CSGBox3D5" type="CSGBox3D" parent="Cave"]
transform = Transform3D(-0.664257, 0.0876282, -0.74235, 0.130786, 0.991411, 0, 0.735974, -0.097089, -0.670012, 8.24427, 2.00462, 9.8174)
use_collision = true
size = Vector3(1.1236, 3.51535, 9)

[node name="CSGBox3D12" type="CSGBox3D" parent="Cave"]
transform = Transform3D(-0.602454, 0.293199, -0.74235, 0.437602, 0.899169, 0, 0.667498, -0.324854, -0.670012, 8.26797, 4.37638, 9.32949)
use_collision = true
size = Vector3(1.62891, 2.74364, 9)

[node name="CSGBox3D13" type="CSGBox3D" parent="Cave"]
transform = Transform3D(-0.434569, 0.509967, -0.74235, 0.761131, 0.648598, 0, 0.481487, -0.565026, -0.670012, 8.99261, 4.25397, 8.28866)
use_collision = true
size = Vector3(1.62891, 1.8183, 9)

[node name="CSGBox3D6" type="CSGBox3D" parent="Cave"]
transform = Transform3D(-0.660917, -0.110019, -0.74235, -0.164204, 0.986426, 0, 0.732274, 0.121897, -0.670012, 9.96378, 1.55941, 7.8695)
use_collision = true
size = Vector3(1, 3.03601, 9)

[node name="CSGBox3D14" type="CSGBox3D" parent="Cave"]
transform = Transform3D(-0.592358, -0.313095, -0.74235, -0.467297, 0.8841, 0, 0.656312, 0.346898, -0.670012, 9.45788, 3.16287, 7.86426)
use_collision = true
size = Vector3(1, 3.03601, 9)

[node name="Cave2" type="Node" parent="."]

[node name="CSGBox3D2" type="CSGBox3D" parent="Cave2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.6454, 1.20825, -29.6251)
use_collision = true
size = Vector3(4.27026, 0.583496, 10)

[node name="CSGBox3D3" type="CSGBox3D" parent="Cave2"]
transform = Transform3D(0.993461, 0.114174, 0, -0.114174, 0.993461, 0, 0, 0, 1, -15.794, 1.96801, -30.9044)
use_collision = true
size = Vector3(1.14246, 2.25252, 10)

[node name="CSGBox3D7" type="CSGBox3D" parent="Cave2"]
transform = Transform3D(0.921287, 0.388883, 0, -0.388883, 0.921287, 0, 0, 0, 1, -15.2759, 3.93687, -30.9044)
use_collision = true
size = Vector3(1.14246, 2.20707, 10)

[node name="CSGBox3D4" type="CSGBox3D" parent="Cave2"]
transform = Transform3D(0.984053, -0.177875, 0, 0.177875, 0.984053, 0, 0, 0, 1, -11.6394, 2.74346, -30.9044)
use_collision = true
size = Vector3(1.14246, 3.10664, 10)

[node name="CSGBox3D8" type="CSGBox3D" parent="Cave2"]
transform = Transform3D(0.918032, -0.396507, 0, 0.396507, 0.918032, 0, 0, 0, 1, -12.2192, 4.21443, -30.9044)
use_collision = true
size = Vector3(1.14246, 2.8082, 10)

[node name="CSGBox3D5" type="CSGBox3D" parent="Cave2"]
transform = Transform3D(0.897474, -0.441067, 0, 0.441067, 0.897474, 0, 0, 0, 1, -12.7067, 4.59355, -26.7352)
use_collision = true
size = Vector3(1.51361, 1.3852, 1.66162)

[node name="CSGBox3D6" type="CSGBox3D" parent="Cave2"]
transform = Transform3D(0.853851, -0.520518, 0, 0.520518, 0.853851, 0, 0, 0, 1, -14.0738, 4.90688, -30.9044)
use_collision = true
size = Vector3(1.86472, 1.75118, 10)

[node name="Lights" type="Node" parent="."]

[node name="OmniLight3D2" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.0405, 2.32083, 10.9817)
light_color = Color(0.314773, 0.474335, 0.923773, 1)
light_energy = 12.942
light_specular = 0.0
shadow_enabled = true
omni_range = 20.9488

[node name="OmniLight3D3" type="OmniLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.6889, 3.5321, -38.424)
light_color = Color(0.314773, 0.474335, 0.923773, 1)
light_energy = 12.942
light_specular = 0.0
shadow_enabled = true
omni_range = 20.9488

[node name="SpotLight3D" type="SpotLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.82702, 16.8481, -7.66728)
light_color = Color(0.252028, 0.252028, 0.252028, 1)
spot_range = 41.64
spot_angle = 47.0548
spot_angle_attenuation = 0.026278

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 3.83988, 1, 4.04699)
use_collision = true
size = Vector3(4, 1, 21.3442)

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 3)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -0.77424, 2.5, -0.790208)
shape = SubResource("BoxShape3D_qyb5k")

[node name="Area3D2" type="Area3D" parent="."]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, -14, 0, -29)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D2"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0.501566, 2.5, 0.501566)
shape = SubResource("BoxShape3D_qyb5k")

[node name="Enemt" parent="." instance=ExtResource("3_qyb5k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.55347, 2.53032, -5.94244)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_qyb5k")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="NavigationRegion3D"]
transform = Transform3D(0.707107, -0.707107, -3.09086e-08, 0, -4.37114e-08, 1, -0.707107, -0.707107, -3.09086e-08, -5, 1.5, -2)
use_collision = true
polygon = PackedVector2Array(0, 0, -3, 4, -3, 15, 2, 21, 6.51438, 23.255, 8.37927, 23.6239, 11.6623, 20.3418, 9.43056, 17.424, 7, 15, 7, 4, 4, 0)

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="body_entered" from="Area3D2" to="." method="_on_area_3d_2_body_entered"]
